#!/bin/bash

SCRIPT_DIR="$(cd `dirname $0` && pwd -P)"

export RESULT_DIR=${SCRIPT_DIR}/results/`date +%Y-%m-%d-%H-%M-%S`
export RUN_REMOTE=true

pushd $SCRIPT_DIR

#======================================================================

for i in 10 50 100 200 400 600 800 1000 1500 2000
do
   THREAD_COUNT=$i LOOP_COUNT=30 ./test-001-http-big.sh || exit 1
done

#======================================================================

for i in 100 200 400 600 800 1000 1500 2000 3000 4000 5000 6000 7000 8000 9000 10000
do
   THREAD_COUNT=$i LOOP_COUNT=300 ./test-002-client.sh || exit 2
done

#======================================================================

./_upload-file.sh

#======================================================================

for i in 100 200 400 600 800 1000 1500 2000 3000 4000 5000 6000 7000 8000 9000 10000
do
   THREAD_COUNT=$i LOOP_COUNT=300 ./test-003-list-envelopes.sh || exit 3
done

#======================================================================

for i in 100 200 400 600 800 1000 1500 2000 3000 4000 5000 6000 7000 8000 9000 10000
do
   THREAD_COUNT=$i LOOP_COUNT=300 ./test-004-get-envelope.sh || exit 4
done

#======================================================================

./_remove-uploaded-file.sh

#======================================================================

./_parse-test-results.sh

#======================================================================

popd

#======================================================================
# end of file

